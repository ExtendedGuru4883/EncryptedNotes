<EditForm OnValidSubmit="SubmitAsync" Model="_model">
    <DataAnnotationsValidator/>

    @foreach (var error in _errors)
    {
        <div class="text-danger">@error</div>
    }

    <FluentStack Orientation="Orientation.Vertical">
        <div style="width: 100%; height: 100%;">
            <FluentTextArea @bind-Value="_model.Title" Immediate="true" Appearance="FluentInputAppearance.Filled"
                            style="width: 100%; height: 100%;" placeholder="Title"/>
            <ValidationMessage For="@(() => _model.Title)"/>
            @if (_model.Title.Length > 100)
            {
                <div class="text-danger">@($"{_model.Title.Length}/100")</div>
            }
        </div>
        <FluentDivider Style="width: 100%;"></FluentDivider>
        <div style="width: 100%; height: 100%;">
            <FluentTextArea @bind-Value="_model.Content" Immediate="true" Appearance="FluentInputAppearance.Filled"
                            style="width: 100%; height: 100%;" placeholder="Content"/>
            <ValidationMessage For="@(() => _model.Content)"/>
            @if (_model.Content.Length > 1000)
            {
                <div class="text-danger">@($"{_model.Content.Length}/1000")</div>
            }
        </div>
        <FluentDivider Style="width: 100%;"></FluentDivider>
        <div>
            <FluentButton Appearance="@Appearance.Accent" Type="ButtonType.Submit" Loading="@_isLoading">
                Add note
            </FluentButton>
            <FluentButton Appearance="Appearance.Outline" Type="ButtonType.Button" @onclick="HandleClose">
                Close
            </FluentButton>
        </div>
    </FluentStack>
</EditForm>